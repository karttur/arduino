---
layout: post
title: On-Board NeoPixel
categories: nRF52840
excerpt: "Connections to the GX expansion socket of xSpectre spectrometer v0.7"
tags:
  - ion selective electrode
  - ise
  - ph
  - Adafruit
  - NeoPixel
image: avg-trmm-3b43v7-precip_3B43_trmm_2001-2016_A
date: '2022-08-26'
modified: '2022-08-26'
comments: true
share: true
---

### Introduction

Version 0.7 of xSpectre's spectrometer has a in-built BNC (coaxial) connection. The main (only) purpose of the BNC connection is to allow using Ion Selective Electrodes (ISEs) (also called Specific Ion Electrodes [SIE]). When writing this in September 2022 the only ISE that we have tested is for pH. This post includes a short description of the function of ISE, the BNC port and how to use the voltage divider for adjusting the signal from the connected ISE and alternative codes for different software calibrations.

### Ion Selective Electrodes

Ion selective electrode (ISE) is an analytical technique for determining the activity (concentration) of ions in aqueous solution by measuring relative electrical potential. ISE has many advantages, including:

- inexpensive,
- easy to operate,
- covers a wide range of concentrations,
- measures activity rather than concentration,
- real-time measurement,
- both positive and negative ions can be measured.

Ions that are typically moniored using ISE include H+ (pH), NO3-, NO2-, NH4+, K+, Ca2+, F-, S-, Cl-. Many, if not all, of these ions are of interest for soil monitoring and testing - the primary target market for xSpectre's handheld spectrometer. The ions, however, are also interesting in other applications, including pollution monitoring in natural waters (CN-, F-, S-, Cl-), food processing (NO3-, NO2- in meat preservatives), Ca2+ in dairy products, and K+ in fruit juices.

#### ISE setup

The basic idea with ISE is to measure the flow of electricity between a reference electrode bathed in concentrated potassium chloride solution (filling solution) and saturated with silver chloride. The reference electrode also contains the same ions as that to be measured. 

The voltage is theoretically dependent on the logarithm of the ionic activity, according to the Nernst equation
